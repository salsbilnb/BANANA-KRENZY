<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,height=device-height, initial-scale=1.0" />
  <title>Banana Krenzy - Penilaian</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0; background: #fff7cc;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #665200;
      padding: 15px;
      min-height: 100vh;
      display: flex; flex-direction: column; align-items: center;
      overflow-x: hidden;
    }
    header {
      text-align: center; margin-bottom: 15px;
    }
    header h1 {
      font-size: 3rem; margin: 0.1em 0; letter-spacing: 3px;
      color: #d49f00; text-shadow: 1px 1px 2px #f5e27a;
    }
    header p {
      font-size: 1.2rem; font-weight: 600; margin-top: 0; color: #aa7e00;
    }
    .form-section {
      background: #ffe680;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(170, 125, 0, 0.3);
      padding: 20px;
      max-width: 350px;
      width: 100%;
      margin-bottom: 20px;
    }
    .form-section h2 {
      color: #a36700;
      margin-top: 0;
      text-align: center;
      font-weight: 700;
      margin-bottom: 15px;
      letter-spacing: 1.5px;
      text-shadow: 1px 1px 1px #fec44f;
    }
    label { font-weight:600; }
    select, textarea {
      width: 100%;
      font-size: 1rem;
      padding: 10px;
      border-radius: 8px;
      border: 2px solid #d9b600;
      box-shadow: inset 0 1px 3px rgba(204,204,204,0.4);
      color: #503d00;
      resize: vertical;
      margin-top: 6px;
      margin-bottom: 12px;
      transition: border-color 0.3s ease;
      font-weight: 600;
    }
    select:focus, textarea:focus {
      outline: none;
      border-color: #ffdb4d;
      box-shadow: 0 0 10px #ffd74f88;
    }
    .rating {
      display: flex; justify-content: center; gap: 8px;
      margin-bottom: 15px;
      user-select: none;
      direction: rtl;
    }
    .rating input[type="radio"] {
      display: none;
    }
    .rating label {
      font-size: 2.4rem;
      color: #d9b600;
      cursor: pointer;
      transition: color 0.3s ease;
      filter: drop-shadow(1px 1px 1px #aa7e00);
    }
    .rating input[type="radio"]:checked ~ label,
    .rating input[type="radio"]:checked + label {
      color: #ffdb4d;
    }

    button {
      background-color: #d9b600;
      border: none;
      color: #fff;
      font-weight: 700;
      font-size: 1.1rem;
      padding: 12px 22px;
      border-radius: 50px;
      cursor: pointer;
      width: 100%;
      transition: background-color 0.3s ease;
      box-shadow: 0 4px 7px rgba(170, 125, 0, 0.6);
      user-select: none;
    }
    button:hover {
      background-color: #ffdb4d;
      color: #665200;
      box-shadow: 0 6px 12px rgba(255, 219, 77, 0.7);
    }

    .feedback-display {
      max-width: 600px;
      width: 100%;
      background: #fff5c2;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 4px 10px rgba(204, 170, 0, 0.3);
      margin-bottom: 30px;
    }
    .feedback-display h3 {
      margin-top: 0;
      font-size: 1.3rem;
      color: #aa7e00;
      text-align: center;
    }
    .feedback-item {
      margin-bottom: 15px;
      border-bottom: 1px solid #f0d96b;
      padding-bottom: 10px;
    }
    .feedback-item:last-child {
      border-bottom: none;
    }
    .stars {
      color: #ffdb4d;
      font-size: 1.2rem;
    }
    @media (max-width: 400px) {
      header h1 { font-size: 2.2rem; }
      .rating label { font-size: 2rem; }
    }
  </style>
</head>
<body>
  <header>
    <h1>Banana Krenzy</h1>
    <p>Bukan keripik pisang biasa loh.. INI KRENZY!</p>
  </header>

  <section class="form-section" aria-label="Form penilaian produk">
    <h2>Penilaian Produk</h2>
    <form id="ratingForm" onsubmit="submitRating(event)">
      <label for="flavor">Pilih Rasa yang Dibeli:</label>
      <select id="flavor" name="flavor" required>
        <option value="" disabled selected>-- Pilih Rasa --</option>
        <option value="Original">Original</option>
        <option value="Cokelat">Cokelat</option>
        <option value="Stroberi">Stroberi</option>
        <option value="Jagung Bakar">Jagung Bakar</option>
        <option value="Balado">Balado</option>
      </select>

      <label>Berikan Penilaian (Bintang)</label>
      <div class="rating" role="radiogroup">
        <input type="radio" id="star5" name="rating" value="5" /><label for="star5" title="5 bintang">★</label>
        <input type="radio" id="star4" name="rating" value="4" /><label for="star4" title="4 bintang">★</label>
        <input type="radio" id="star3" name="rating" value="3" /><label for="star3" title="3 bintang">★</label>
        <input type="radio" id="star2" name="rating" value="2" /><label for="star2" title="2 bintang">★</label>
        <input type="radio" id="star1" name="rating" value="1" /><label for="star1" title="1 bintang">★</label>
      </div>

      <label for="comment">Komentar Penilaian:</label>
      <textarea id="comment" name="comment" placeholder="Tulis komentar atau penilaian Anda tentang rasa, kemasan, dll..." rows="4"></textarea>
      <button type="submit">Kirim Penilaian</button>
    </form>
  </section>

  <section class="form-section" aria-label="Form saran dan masukan">
    <h2>Saran dan Feedback</h2>
    <form id="suggestionForm" onsubmit="submitSuggestion(event)">
      <label for="suggestion">Saran dan Masukan:</label>
      <textarea id="suggestion" name="suggestion" rows="4" placeholder="Tulis saran atau masukan Anda di sini..." required></textarea>
      <button type="submit">Kirim Saran</button>
    </form>
  </section>

  <section class="feedback-display" id="feedbackDisplay">
    <h3>Penilaian yang Masuk</h3>
    <div id="feedbackList"></div>
  </section>

  <script>
    function submitRating(event) {
      event.preventDefault();
      const form = event.target;
      const flavor = form.flavor.value;
      const rating = form.rating.value;
      const comment = form.comment.value.trim();

      if(!flavor || !rating){
        alert("Lengkapi semua isian rasa dan bintang!");
        return;
      }

      const feedback = {
        flavor,
        rating: Number(rating),
        comment,
        date: new Date().toLocaleString()
      };

      let feedbackList = JSON.parse(localStorage.getItem("bananaKrenzyFeedback")) || [];
      feedbackList.unshift(feedback);
      localStorage.setItem("bananaKrenzyFeedback", JSON.stringify(feedbackList));
      alert("Terima kasih atas penilaian Anda!");
      form.reset();
      showFeedback();
    }

    function submitSuggestion(event){
      event.preventDefault();
      const form = event.target;
      const suggestion = form.suggestion.value.trim();
      if(!suggestion){
        alert("Silakan tulis saran atau masukan Anda!");
        return;
      }
      let suggestions = JSON.parse(localStorage.getItem("bananaKrenzySuggestions")) || [];
      suggestions.push({
        suggestion,
        date: new Date().toISOString()
      });
      localStorage.setItem("bananaKrenzySuggestions", JSON.stringify(suggestions));
      alert("Terima kasih atas sarannya!");
      form.reset();
    }

    function showFeedback() {
      const container = document.getElementById("feedbackList");
      const list = JSON.parse(localStorage.getItem("bananaKrenzyFeedback")) || [];
      container.innerHTML = list.map(item => `
        <div class="feedback-item">
          <strong>${item.flavor}</strong> - <span class="stars">${'★'.repeat(item.rating)}</span><br/>
          ${item.comment ? `<p>${item.comment}</p>` : ''}
          <small>${item.date}</small>
        </div>
      `).join('');
    }

    // Tampilkan data saat pertama dibuka
    window.addEventListener('DOMContentLoaded', showFeedback);
  </script>
</body>
</html>